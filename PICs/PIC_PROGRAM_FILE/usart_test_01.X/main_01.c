//????????????????????
#include <xc.h>
 #define _XTAL_FREQ 7987200 // delay?(????7.9872MHz????)

 // ???????????????
#pragma config FOSC = HS // ???????????(HS)
 #pragma config WDTE = OFF // ???????????????(OFF)
 #pragma config PWRTE = ON // ??ON??64ms??????????????(ON)
 #pragma config MCLRE = OFF // ??????????????????????(RA5)??????(OFF)
 #pragma config CP = OFF // ?????????????????(OFF)
 #pragma config CPD = OFF // ??????????????(OFF)
 #pragma config BOREN = ON // ????????????ON(ON)
 #pragma config CLKOUTEN = OFF // CLKOUT????RA6????????(OFF)
 #pragma config IESO = OFF // ????????????????????(OFF)
 #pragma config FCMEN = OFF // ???????????(FCMEN_OFF)

 // ???????????????
#pragma config WRT = OFF // Flash??????????(OFF)
 #pragma config PLLEN = OFF // ???????32MHz????????(OFF)
 #pragma config STVREN = ON // ?????????????????????????????(ON)
 #pragma config BORV = HI // ????????????(2.5V)??(HI)
 #pragma config LVP = OFF // ?????????????????(OFF)

 // ??????(num x 10ms)?????????????
void Wait(unsigned int num)
 {
 int i ;

 // num?????????????
for (i=0 ; i < num ; i++) {
 __delay_ms(10) ; // 10ms??????????
}
 }

 // ????????
void main() {

 char i ;


 /*
 *
 16F1827?USART??????????????
TX?11???(RB5)?8???(RB2)?????? TXCKSEL????????????
RX?7???(RB1)?8???(RB2)?????? RXDTSEL????????????
TXCKSEL?0=RB2?1=RB5???RXDTSEL?0=RB1?1=RB2
 RX??????????????
*
 */

OSCCON = 0b00000000; // ???????7.9872MHz???
ANSELA = 0b00000000; // AN0-AN4????????????I/O???
ANSELB = 0b00010000; // AN5-AN11?AN8????????????????I/O???
TRISA = 0b00000000; // ??(RA)??????????(RA5????????)
TRISB = 0b11010010; // ??(RB)?RB1(RX??),RB6,RB4(AN8)?RB7(AN6)?????????????
ADCON1 = 0b11010000; // ????????A/D???????FOSC/16?VDD??????????
ADCON0 = 0b00100001; // ??????????(AN8?????)
 __delay_us(10); // ???????????????????????
PORTA = 0b00000000; // RA????????(??LOW???)
PORTB = 0b00000000; // RB????????(??LOW???)

 // ?????????????
RXDTSEL = 0; // 7???(RB1)?RX???????
TXCKSEL = 0; // 8???(RB2)?TX???????

TXSTA = 0b00100100 ; // ?????????????????????????
RCSTA = 0b10010000 ; // ??????
BAUDCONbits.BRG16=0;//?????8???
SPBRG=12; //BRGH=0, 8MHz, 9600baud

 Wait(500) ; // ????????
i = 0x30 ;

 while (1) { // ????????
TXREG = i ; // ????
while(TXSTAbits.TRMT==0) ; // ??????

// ??????????(?????????????????????)
i++ ;
 if (i > 0x7b) i=0x30 ;

 Wait(100) ; // ???????????



}//while end
 }
 //????????????????????