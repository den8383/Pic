
#include <pic.h>
#include <htc.h>               // delay?

#define _XTAL_FREQ 4000000    // delay????(????4MHz???)

// ???????????????
// CLKOUT????RA4????????(CLKOUTEN_OFF)???????????(INTIO)
// ???????????(FCMEN_OFF)?????????????????????(IESO_OFF)
// ????????????ON(BOREN_ON)???ON??64ms??????????????(PWRTEN_ON)
// ???????????????(WDTE_OFF)?
// ??????????????????????(RA3)??????(MCLRE_OFF)
// ?????????????????(CP_OFF)???????????????(CPD_OFF)
//__CONFIG(CLKOUTEN_OFF & FOSC_INTOSC & FCMEN_OFF & IESO_OFF & BOREN_ON &
//         PWRTE_ON & WDTE_OFF & MCLRE_OFF & CP_OFF & CPD_OFF) ;

#pragma config CLKOUTEN = OFF
#pragma config FOSC = INTOSC
#pragma config FCMEN = OFF
#pragma config IESO = OFF
#pragma config BOREN = ON
#pragma config PWRTE = ON
#pragma config WDTE = OFF
#pragma config MCLRE = OFF
#pragma config CP = OFF
#pragma config CPD = OFF
// ???????????????
// ???????32MHz????????(PLLEN_OFF)
// ?????????????????????????????(STVREN_ON)
// ?????????????????(LVP_OFF)
// Flash??????????(WRT_OFF)?????????????(2.5V)??(BORV_25)
//__CONFIG(PLLEN_OFF & STVREN_ON & WRT_OFF & BORV_25 & LVP_OFF);

#pragma config PLLEN = OFF
#pragma config STVREN = ON
#pragma config WRT = OFF
#pragma config BORV = 25
#pragma config LVP = OFF
// ??????(numx10ms)?????????????
void Wait(unsigned int num)
{
     int i ;

     // num?????????????
     for (i=0 ; i<num ; i++) {
          __delay_ms(10) ;     // 10ms??????????
     }
}
// ??????
void main()
{
	int i ;

     OSCCON = 0b01101010 ;     // ??????????????
     ANSELA = 0b00000000 ;     // ??????????????????I/O??????
     TRISA  = 0b00001100 ;     // RA2??????????????(RA3?????)
     PORTA  = 0b00000000 ;     // ????????(??LOW???)

     // SPI??????????
     SDO1SEL   = 1 ;            // 3???(RA4)?SDO?????
     SSP1CON1 = 0b00100001 ;   // ???????LOW????????FOSC/16????????
     SSP1STAT = 0b00000000 ;   // ?????????????(0V)??????(5V)????????*2)
     SSP1IF = 0 ;              // ????????????????
     SSP1IE = 1 ;              // ????????????
     PEIE   = 1 ;              // ?????????
     GIE    = 1 ;              // ???????????

     Wait(500) ;  // 5?????

     while(1) {
          // ????????????????????????????
          for (i = 0x30 ; i < 0x7b ; i++) {
	          SSP1BUF = (char)i ;
               Wait(100) ;  // 1?????
          }
     }
}
